<!DOCTYPE html>
<html>
<head>
  <style TYPE="text/css">

<!--
body {
	background: #7ea2ae;
	text-align: center;
}
h2 {
	color: white;
	font: bold 20px/40px "Trebuchet MS", Helvetica, sans-serif;
}
#container {
	margin-left: 15%;
	padding: 0;
	width: 1090;
	text-align: center;
}
#left {
	min-width: 300px;
	height: 150px;
	background: #6c929d;
	padding: 10px;
	margin: 10px 10px 10px 10px;
	display: inline;
	float: left;
	position: relative;
	text-align: center;
}
#bot {
	min-width: 610px;
	background: #6c929d;
	padding: 30px;
	margin: 10px 10px 10px 10px;
	display: inline;
	float: left;
	position: relative;
	text-align: left;
}
span { 
   color: #e0e0e0; 
   font: bold 20px/40px "Trebuchet MS", Helvetica, sans-serif; 
   letter-spacing: -1px;  
   padding: 2px; 
}
#wrapper {
	clear: both;
	min-width: 680px;				
	width: 40%;
	margin: auto;
	text-align: center;
}
input[type="radio"] {  
    display: none;  
} 
input[type="radio"] + label
{
    background: url(images/circle.jpg) no-repeat;;
    height: 31px;
    width: 33px;
    display:inline-block;
    padding: 9 0 0 0px;
}
input[type="radio"]:checked + label
{
    background: url(images/circle-checked.jpg) no-repeat;;
    height: 31px;
    width: 33px;
    display: inline-block;
    padding: 9 0 0 0px;
}
#calc {
	border:0;
	height:38px;
	width:150px;
	background:#a8000d;
	color: #ffffff;
	font: bold 20px/40px "Trebuchet MS", Helvetica, sans-serif;
}
#interest {
	width:25px;
	border:0;
	border-bottom:1px;
	font: bold 20px/40px "Trebuchet MS", Helvetica, sans-serif;
}
		/*slider*/
.slider {
  width: 150px;
  margin: 100px auto;
}
input[type="range"] {
  -webkit-appearance: none;
  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
  width: 100%;
  height: 20px;
  margin: 0;
  border: none;
  padding: 1px 2px;
  border-radius: 14px;
  background: #93b1ba;
  box-shadow: inset 0 0 0 0 #0d0e0f, inset 0 0 0 0 #3a3d42;
  -webkit-box-shadow: inset 0 0 0 0 #0d0e0f, inset 0 0 0 0 #3a3d42;
  outline: none; /* no focus outline */
}
input[type="range"]::-moz-range-track {
  border: inherit;
  background: transparent;
}
input[type="range"]::-ms-track {
  border: inherit;
  color: transparent; /* don't drawn vertical reference line */
  background: transparent;
}
input[type="range"]::-ms-fill-lower,
input[type="range"]::-ms-fill-upper {
  background: transparent;
}
input[type="range"]::-ms-tooltip {
  display: none;
}
		/* thumb */
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 40px;
  height: 18px;
  border: none;
  border-radius: 12px;
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #b6c7ca), color-stop(100%, #245e8f)); /* android <= 2.2 */
  background-image: -webkit-linear-gradient(top , #b6c7ca 0, #245e8f 100%); /* older mobile safari and android > 2.2 */;
  background-image: linear-gradient(to bottom, #b6c7ca 0, #245e8f 100%); /* W3C */
}
input[type="range"]::-moz-range-thumb {
  width: 40px;
  height: 18px;
  border: none;
  border-radius: 12px;
  background-image: linear-gradient(to bottom, #b6c7ca 0, #245e8f 100%); /* W3C */
}
input[type="range"]::-ms-thumb {
  width: 40px;
  height: 18px;
  border-radius: 12px;
  border: 0;
  background-image: linear-gradient(to bottom, #b6c7ca 0, #245e8f 100%); /* W3C */
}

  --></style>
<script language="javascript" type="text/javascript">
function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
function showPurchase(newValue) {
	var pp = newValue
	document.getElementById("range").innerHTML = "$"+numberWithCommas(pp);
	var dp = parseInt((document.getElementById("range2").innerHTML).toString().replace(/[^a-zA-Z 0-9]+/g,''),10);	//change dpv (range3) when pp changes
	document.getElementById("range3").innerHTML = "$"+numberWithCommas(((parseInt(dp,10)/100)*pp).toFixed(0));
}
function showDownPay(newValue) {
	var pp;
	var dp = newValue;
	pp = parseInt((document.getElementById("range").innerHTML).toString().replace(/[^a-zA-Z 0-9]+/g,''),10);	//remove all special chars
	document.getElementById("range2").innerHTML = dp+" %";
	document.getElementById("range3").innerHTML = "$"+numberWithCommas(((parseInt(dp,10)/100)*pp).toFixed(0));
}
function calculate() {
	var mt;
	if (document.getElementById('m1').checked) {
		mt = parseInt(document.getElementById('m1').value,10);
	} else if(document.getElementById('m2').checked) {
		mt = parseInt(document.getElementById('m2').value,10);
	}
	var pp = parseInt((document.getElementById("range").innerHTML).toString().replace(/[^a-zA-Z 0-9]+/g,''),10);
	var dpv = parseInt((document.getElementById("range3").innerHTML).toString().replace(/[^a-zA-Z 0-9]+/g,''),10);
	var ir = parseFloat(document.getElementById("interest").value,10);
	//document.getElementById("range4").innerHTML = mt;
	//document.getElementById("range4").innerHTML = numberWithCommas((pp-dpv)*ir);
	document.getElementById("range4").innerHTML = "$"+numberWithCommas((((pp-dpv)+((pp-dpv)*(ir/100)))/(mt*12)).toFixed(2));
}
function verify() {
	if(document.getElementById("interest").value.trim() != "") {
		document.getElementById("calc").disabled = false;
	} else {
		document.getElementById("calc").disabled = true;
	}
} 
</script>
</head>

<body>

<div id="wrapper">
	<h2>MORTGAGE CALCULATOR
	<br/>____________________________</h2>
	<div id="left">
		<h2>PURCHASE PRICE</h2>
		<div style="background: white;">
			<span id="range">$30,000</span>
		</div>
		<br/>
		<input type="range" min="30000" max="2000000" step="100" value="0" onchange="showPurchase(this.value)" />
		<br/>
	</div>

	<div id="left">
		<h2>DOWNPAYMENT</h2>
		<div>
			<div style="background: white;width: 129px;float:left;">
				<span id="range3">$4,500</span>
			</div>
			<div style="background: white;width: 100px;float:right;">
				<span id="range2">15 %</span>
			</div>
		</div>
		<br/><br/><br/>
		<input type="range" min="1" max="100" value="15" onchange="showDownPay(this.value)" />
		<br/>
	</div>

	<div id="left">
		<h2>MORTGAGE TERM</h2>
		<br/>
		<form id="radios">
			<input type="radio" class="styled" checked="checked" id="m1" name="mortgage" value="30"><label for="m1"></label><span style="color:white;">30 yr</span>
			<input type="radio" class="styled" id="m2" name="mortgage" value="15"><label for="m2"></label><span style="color:white;">15 yr</span>
			<br/><br/><br/>
		</form>
	</div>

	<div id="left">
		<h2>INTEREST RATE</h2>
		<div style="background: white;">
			<input id="interest" type="text" onchange="verify()"><span style="color:black;">%</span>	
		</div>
		<br/><br/><br/>
	</div>		
</div>

<div id="wrapper">
	<br/><br/>
		<input id="calc" type="button" disabled="true" value="CALCULATE" onclick="calculate()" >
	<br/><br/>
</div>

<div id="wrapper">
	<div id="bot">
		<span style="color:white;">Estimated Monthly Payment:</span>
		<br/>
		<span id="range4" style="color:white;">$0</span>
	</div>
</div>

</body>
</html>
